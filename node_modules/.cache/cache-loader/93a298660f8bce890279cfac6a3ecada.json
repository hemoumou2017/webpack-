{"remainingRequest":"C:\\mine\\搭webpack环境\\so\\node_modules\\thread-loader\\dist\\cjs.js!C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js!C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js!C:\\mine\\搭webpack环境\\so\\node_modules\\element-ui\\lib\\utils\\popup\\popup-manager.js","dependencies":[{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\element-ui\\lib\\utils\\popup\\popup-manager.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsKCnZhciBfdnVlID0gcmVxdWlyZSgndnVlJyk7Cgp2YXIgX3Z1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92dWUpOwoKdmFyIF9kb20gPSByZXF1aXJlKCdlbGVtZW50LXVpL2xpYi91dGlscy9kb20nKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgICJkZWZhdWx0Ijogb2JqCiAgfTsKfQoKdmFyIGhhc01vZGFsID0gZmFsc2U7CnZhciBoYXNJbml0WkluZGV4ID0gZmFsc2U7CnZhciB6SW5kZXggPSAyMDAwOwoKdmFyIGdldE1vZGFsID0gZnVuY3Rpb24gZ2V0TW9kYWwoKSB7CiAgaWYgKF92dWUyWyJkZWZhdWx0Il0ucHJvdG90eXBlLiRpc1NlcnZlcikgcmV0dXJuOwogIHZhciBtb2RhbERvbSA9IFBvcHVwTWFuYWdlci5tb2RhbERvbTsKCiAgaWYgKG1vZGFsRG9tKSB7CiAgICBoYXNNb2RhbCA9IHRydWU7CiAgfSBlbHNlIHsKICAgIGhhc01vZGFsID0gZmFsc2U7CiAgICBtb2RhbERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgUG9wdXBNYW5hZ2VyLm1vZGFsRG9tID0gbW9kYWxEb207CiAgICBtb2RhbERvbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9KTsKICAgIG1vZGFsRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICBQb3B1cE1hbmFnZXIuZG9Pbk1vZGFsQ2xpY2sgJiYgUG9wdXBNYW5hZ2VyLmRvT25Nb2RhbENsaWNrKCk7CiAgICB9KTsKICB9CgogIHJldHVybiBtb2RhbERvbTsKfTsKCnZhciBpbnN0YW5jZXMgPSB7fTsKdmFyIFBvcHVwTWFuYWdlciA9IHsKICBtb2RhbEZhZGU6IHRydWUsCiAgZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGlkKSB7CiAgICByZXR1cm4gaW5zdGFuY2VzW2lkXTsKICB9LAogIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihpZCwgaW5zdGFuY2UpIHsKICAgIGlmIChpZCAmJiBpbnN0YW5jZSkgewogICAgICBpbnN0YW5jZXNbaWRdID0gaW5zdGFuY2U7CiAgICB9CiAgfSwKICBkZXJlZ2lzdGVyOiBmdW5jdGlvbiBkZXJlZ2lzdGVyKGlkKSB7CiAgICBpZiAoaWQpIHsKICAgICAgaW5zdGFuY2VzW2lkXSA9IG51bGw7CiAgICAgIGRlbGV0ZSBpbnN0YW5jZXNbaWRdOwogICAgfQogIH0sCiAgbmV4dFpJbmRleDogZnVuY3Rpb24gbmV4dFpJbmRleCgpIHsKICAgIHJldHVybiBQb3B1cE1hbmFnZXIuekluZGV4Kys7CiAgfSwKICBtb2RhbFN0YWNrOiBbXSwKICBkb09uTW9kYWxDbGljazogZnVuY3Rpb24gZG9Pbk1vZGFsQ2xpY2soKSB7CiAgICB2YXIgdG9wSXRlbSA9IFBvcHVwTWFuYWdlci5tb2RhbFN0YWNrW1BvcHVwTWFuYWdlci5tb2RhbFN0YWNrLmxlbmd0aCAtIDFdOwogICAgaWYgKCF0b3BJdGVtKSByZXR1cm47CiAgICB2YXIgaW5zdGFuY2UgPSBQb3B1cE1hbmFnZXIuZ2V0SW5zdGFuY2UodG9wSXRlbS5pZCk7CgogICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmNsb3NlT25DbGlja01vZGFsKSB7CiAgICAgIGluc3RhbmNlLmNsb3NlKCk7CiAgICB9CiAgfSwKICBvcGVuTW9kYWw6IGZ1bmN0aW9uIG9wZW5Nb2RhbChpZCwgekluZGV4LCBkb20sIG1vZGFsQ2xhc3MsIG1vZGFsRmFkZSkgewogICAgaWYgKF92dWUyWyJkZWZhdWx0Il0ucHJvdG90eXBlLiRpc1NlcnZlcikgcmV0dXJuOwogICAgaWYgKCFpZCB8fCB6SW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgdGhpcy5tb2RhbEZhZGUgPSBtb2RhbEZhZGU7CiAgICB2YXIgbW9kYWxTdGFjayA9IHRoaXMubW9kYWxTdGFjazsKCiAgICBmb3IgKHZhciBpID0gMCwgaiA9IG1vZGFsU3RhY2subGVuZ3RoOyBpIDwgajsgaSsrKSB7CiAgICAgIHZhciBpdGVtID0gbW9kYWxTdGFja1tpXTsKCiAgICAgIGlmIChpdGVtLmlkID09PSBpZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQoKICAgIHZhciBtb2RhbERvbSA9IGdldE1vZGFsKCk7CiAgICAoMCwgX2RvbS5hZGRDbGFzcykobW9kYWxEb20sICd2LW1vZGFsJyk7CgogICAgaWYgKHRoaXMubW9kYWxGYWRlICYmICFoYXNNb2RhbCkgewogICAgICAoMCwgX2RvbS5hZGRDbGFzcykobW9kYWxEb20sICd2LW1vZGFsLWVudGVyJyk7CiAgICB9CgogICAgaWYgKG1vZGFsQ2xhc3MpIHsKICAgICAgdmFyIGNsYXNzQXJyID0gbW9kYWxDbGFzcy50cmltKCkuc3BsaXQoL1xzKy8pOwogICAgICBjbGFzc0Fyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICgwLCBfZG9tLmFkZENsYXNzKShtb2RhbERvbSwgaXRlbSk7CiAgICAgIH0pOwogICAgfQoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAoMCwgX2RvbS5yZW1vdmVDbGFzcykobW9kYWxEb20sICd2LW1vZGFsLWVudGVyJyk7CiAgICB9LCAyMDApOwoKICAgIGlmIChkb20gJiYgZG9tLnBhcmVudE5vZGUgJiYgZG9tLnBhcmVudE5vZGUubm9kZVR5cGUgIT09IDExKSB7CiAgICAgIGRvbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG1vZGFsRG9tKTsKICAgIH0gZWxzZSB7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWxEb20pOwogICAgfQoKICAgIGlmICh6SW5kZXgpIHsKICAgICAgbW9kYWxEb20uc3R5bGUuekluZGV4ID0gekluZGV4OwogICAgfQoKICAgIG1vZGFsRG9tLnRhYkluZGV4ID0gMDsKICAgIG1vZGFsRG9tLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHRoaXMubW9kYWxTdGFjay5wdXNoKHsKICAgICAgaWQ6IGlkLAogICAgICB6SW5kZXg6IHpJbmRleCwKICAgICAgbW9kYWxDbGFzczogbW9kYWxDbGFzcwogICAgfSk7CiAgfSwKICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKGlkKSB7CiAgICB2YXIgbW9kYWxTdGFjayA9IHRoaXMubW9kYWxTdGFjazsKICAgIHZhciBtb2RhbERvbSA9IGdldE1vZGFsKCk7CgogICAgaWYgKG1vZGFsU3RhY2subGVuZ3RoID4gMCkgewogICAgICB2YXIgdG9wSXRlbSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTsKCiAgICAgIGlmICh0b3BJdGVtLmlkID09PSBpZCkgewogICAgICAgIGlmICh0b3BJdGVtLm1vZGFsQ2xhc3MpIHsKICAgICAgICAgIHZhciBjbGFzc0FyciA9IHRvcEl0ZW0ubW9kYWxDbGFzcy50cmltKCkuc3BsaXQoL1xzKy8pOwogICAgICAgICAgY2xhc3NBcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gKDAsIF9kb20ucmVtb3ZlQ2xhc3MpKG1vZGFsRG9tLCBpdGVtKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgbW9kYWxTdGFjay5wb3AoKTsKCiAgICAgICAgaWYgKG1vZGFsU3RhY2subGVuZ3RoID4gMCkgewogICAgICAgICAgbW9kYWxEb20uc3R5bGUuekluZGV4ID0gbW9kYWxTdGFja1ttb2RhbFN0YWNrLmxlbmd0aCAtIDFdLnpJbmRleDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IG1vZGFsU3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgIGlmIChtb2RhbFN0YWNrW2ldLmlkID09PSBpZCkgewogICAgICAgICAgICBtb2RhbFN0YWNrLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKG1vZGFsU3RhY2subGVuZ3RoID09PSAwKSB7CiAgICAgIGlmICh0aGlzLm1vZGFsRmFkZSkgewogICAgICAgICgwLCBfZG9tLmFkZENsYXNzKShtb2RhbERvbSwgJ3YtbW9kYWwtbGVhdmUnKTsKICAgICAgfQoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKG1vZGFsU3RhY2subGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBpZiAobW9kYWxEb20ucGFyZW50Tm9kZSkgbW9kYWxEb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtb2RhbERvbSk7CiAgICAgICAgICBtb2RhbERvbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgUG9wdXBNYW5hZ2VyLm1vZGFsRG9tID0gdW5kZWZpbmVkOwogICAgICAgIH0KCiAgICAgICAgKDAsIF9kb20ucmVtb3ZlQ2xhc3MpKG1vZGFsRG9tLCAndi1tb2RhbC1sZWF2ZScpOwogICAgICB9LCAyMDApOwogICAgfQogIH0KfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvcHVwTWFuYWdlciwgJ3pJbmRleCcsIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICBpZiAoIWhhc0luaXRaSW5kZXgpIHsKICAgICAgekluZGV4ID0gKF92dWUyWyJkZWZhdWx0Il0ucHJvdG90eXBlLiRFTEVNRU5UIHx8IHt9KS56SW5kZXggfHwgekluZGV4OwogICAgICBoYXNJbml0WkluZGV4ID0gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gekluZGV4OwogIH0sCiAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgIHpJbmRleCA9IHZhbHVlOwogIH0KfSk7Cgp2YXIgZ2V0VG9wUG9wdXAgPSBmdW5jdGlvbiBnZXRUb3BQb3B1cCgpIHsKICBpZiAoX3Z1ZTJbImRlZmF1bHQiXS5wcm90b3R5cGUuJGlzU2VydmVyKSByZXR1cm47CgogIGlmIChQb3B1cE1hbmFnZXIubW9kYWxTdGFjay5sZW5ndGggPiAwKSB7CiAgICB2YXIgdG9wUG9wdXAgPSBQb3B1cE1hbmFnZXIubW9kYWxTdGFja1tQb3B1cE1hbmFnZXIubW9kYWxTdGFjay5sZW5ndGggLSAxXTsKICAgIGlmICghdG9wUG9wdXApIHJldHVybjsKICAgIHZhciBpbnN0YW5jZSA9IFBvcHVwTWFuYWdlci5nZXRJbnN0YW5jZSh0b3BQb3B1cC5pZCk7CiAgICByZXR1cm4gaW5zdGFuY2U7CiAgfQp9OwoKaWYgKCFfdnVlMlsiZGVmYXVsdCJdLnByb3RvdHlwZS4kaXNTZXJ2ZXIpIHsKICAvLyBoYW5kbGUgYGVzY2Aga2V5IHdoZW4gdGhlIHBvcHVwIGlzIHNob3duCiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudC5rZXlDb2RlID09PSAyNykgewogICAgICB2YXIgdG9wUG9wdXAgPSBnZXRUb3BQb3B1cCgpOwoKICAgICAgaWYgKHRvcFBvcHVwICYmIHRvcFBvcHVwLmNsb3NlT25QcmVzc0VzY2FwZSkgewogICAgICAgIHRvcFBvcHVwLmhhbmRsZUNsb3NlID8gdG9wUG9wdXAuaGFuZGxlQ2xvc2UoKSA6IHRvcFBvcHVwLmhhbmRsZUFjdGlvbiA/IHRvcFBvcHVwLmhhbmRsZUFjdGlvbignY2FuY2VsJykgOiB0b3BQb3B1cC5jbG9zZSgpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCmV4cG9ydHNbImRlZmF1bHQiXSA9IFBvcHVwTWFuYWdlcjs="},{"version":3,"sources":["C:\\mine\\搭webpack环境\\so\\node_modules\\element-ui\\lib\\utils\\popup\\popup-manager.js"],"names":["exports","_vue","require","_vue2","_interopRequireDefault","_dom","obj","hasModal","hasInitZIndex","zIndex","getModal","modalDom","PopupManager","document","event","instances","modalFade","getInstance","register","id","deregister","nextZIndex","modalStack","doOnModalClick","topItem","instance","openModal","i","j","item","classArr","modalClass","setTimeout","dom","closeModal","Object","configurable","get","set","getTopPopup","topPopup","window"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _dom = require('element-ui/lib/utils/dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasModal = false;\nvar hasInitZIndex = false;\nvar zIndex = 2000;\n\nvar getModal = function getModal() {\n  if (_vue2.default.prototype.$isServer) return;\n  var modalDom = PopupManager.modalDom;\n  if (modalDom) {\n    hasModal = true;\n  } else {\n    hasModal = false;\n    modalDom = document.createElement('div');\n    PopupManager.modalDom = modalDom;\n\n    modalDom.addEventListener('touchmove', function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    });\n\n    modalDom.addEventListener('click', function () {\n      PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n    });\n  }\n\n  return modalDom;\n};\n\nvar instances = {};\n\nvar PopupManager = {\n  modalFade: true,\n\n  getInstance: function getInstance(id) {\n    return instances[id];\n  },\n\n  register: function register(id, instance) {\n    if (id && instance) {\n      instances[id] = instance;\n    }\n  },\n\n  deregister: function deregister(id) {\n    if (id) {\n      instances[id] = null;\n      delete instances[id];\n    }\n  },\n\n  nextZIndex: function nextZIndex() {\n    return PopupManager.zIndex++;\n  },\n\n  modalStack: [],\n\n  doOnModalClick: function doOnModalClick() {\n    var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topItem) return;\n\n    var instance = PopupManager.getInstance(topItem.id);\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n\n  openModal: function openModal(id, zIndex, dom, modalClass, modalFade) {\n    if (_vue2.default.prototype.$isServer) return;\n    if (!id || zIndex === undefined) return;\n    this.modalFade = modalFade;\n\n    var modalStack = this.modalStack;\n\n    for (var i = 0, j = modalStack.length; i < j; i++) {\n      var item = modalStack[i];\n      if (item.id === id) {\n        return;\n      }\n    }\n\n    var modalDom = getModal();\n\n    (0, _dom.addClass)(modalDom, 'v-modal');\n    if (this.modalFade && !hasModal) {\n      (0, _dom.addClass)(modalDom, 'v-modal-enter');\n    }\n    if (modalClass) {\n      var classArr = modalClass.trim().split(/\\s+/);\n      classArr.forEach(function (item) {\n        return (0, _dom.addClass)(modalDom, item);\n      });\n    }\n    setTimeout(function () {\n      (0, _dom.removeClass)(modalDom, 'v-modal-enter');\n    }, 200);\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom);\n    } else {\n      document.body.appendChild(modalDom);\n    }\n\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex;\n    }\n    modalDom.tabIndex = 0;\n    modalDom.style.display = '';\n\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\n  },\n\n  closeModal: function closeModal(id) {\n    var modalStack = this.modalStack;\n    var modalDom = getModal();\n\n    if (modalStack.length > 0) {\n      var topItem = modalStack[modalStack.length - 1];\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          var classArr = topItem.modalClass.trim().split(/\\s+/);\n          classArr.forEach(function (item) {\n            return (0, _dom.removeClass)(modalDom, item);\n          });\n        }\n\n        modalStack.pop();\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n        }\n      } else {\n        for (var i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      if (this.modalFade) {\n        (0, _dom.addClass)(modalDom, 'v-modal-leave');\n      }\n      setTimeout(function () {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n          modalDom.style.display = 'none';\n          PopupManager.modalDom = undefined;\n        }\n        (0, _dom.removeClass)(modalDom, 'v-modal-leave');\n      }, 200);\n    }\n  }\n};\n\nObject.defineProperty(PopupManager, 'zIndex', {\n  configurable: true,\n  get: function get() {\n    if (!hasInitZIndex) {\n      zIndex = (_vue2.default.prototype.$ELEMENT || {}).zIndex || zIndex;\n      hasInitZIndex = true;\n    }\n    return zIndex;\n  },\n  set: function set(value) {\n    zIndex = value;\n  }\n});\n\nvar getTopPopup = function getTopPopup() {\n  if (_vue2.default.prototype.$isServer) return;\n  if (PopupManager.modalStack.length > 0) {\n    var topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topPopup) return;\n    var instance = PopupManager.getInstance(topPopup.id);\n\n    return instance;\n  }\n};\n\nif (!_vue2.default.prototype.$isServer) {\n  // handle `esc` key when the popup is shown\n  window.addEventListener('keydown', function (event) {\n    if (event.keyCode === 27) {\n      var topPopup = getTopPopup();\n\n      if (topPopup && topPopup.closeOnPressEscape) {\n        topPopup.handleClose ? topPopup.handleClose() : topPopup.handleAction ? topPopup.handleAction('cancel') : topPopup.close();\n      }\n    }\n  });\n}\n\nexports.default = PopupManager;"]}]}