{"remainingRequest":"C:\\mine\\搭webpack环境\\so\\node_modules\\thread-loader\\dist\\cjs.js!C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js!C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js!C:\\mine\\搭webpack环境\\so\\node_modules\\async-validator\\es\\rule\\range.js","dependencies":[{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\async-validator\\es\\rule\\range.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJzsKLyoqCiAqICBSdWxlIGZvciB2YWxpZGF0aW5nIG1pbmltdW0gYW5kIG1heGltdW0gYWxsb3dlZCB2YWx1ZXMuCiAqCiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLgogKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuCiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC4KICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGQKICogIHZhbGlkYXRpb24gZXJyb3JzIHRvLgogKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy4KICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLgogKi8KCmZ1bmN0aW9uIHJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykgewogIHZhciBsZW4gPSB0eXBlb2YgcnVsZS5sZW4gPT09ICdudW1iZXInOwogIHZhciBtaW4gPSB0eXBlb2YgcnVsZS5taW4gPT09ICdudW1iZXInOwogIHZhciBtYXggPSB0eXBlb2YgcnVsZS5tYXggPT09ICdudW1iZXInOyAvLyDmraPliJnljLnphY3noIHngrnojIPlm7Tku45VKzAxMDAwMOS4gOebtOWIsFUrMTBGRkZG55qE5paH5a2X77yI6KGl5YWF5bmz6Z2iU3VwcGxlbWVudGFyeSBQbGFuZe+8iQoKICB2YXIgc3BSZWdleHAgPSAvW1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2c7CiAgdmFyIHZhbCA9IHZhbHVlOwogIHZhciBrZXkgPSBudWxsOwogIHZhciBudW0gPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInOwogIHZhciBzdHIgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnOwogIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHZhbHVlKTsKCiAgaWYgKG51bSkgewogICAga2V5ID0gJ251bWJlcic7CiAgfSBlbHNlIGlmIChzdHIpIHsKICAgIGtleSA9ICdzdHJpbmcnOwogIH0gZWxzZSBpZiAoYXJyKSB7CiAgICBrZXkgPSAnYXJyYXknOwogIH0gLy8gaWYgdGhlIHZhbHVlIGlzIG5vdCBvZiBhIHN1cHBvcnRlZCB0eXBlIGZvciByYW5nZSB2YWxpZGF0aW9uCiAgLy8gdGhlIHZhbGlkYXRpb24gcnVsZSBydWxlIHNob3VsZCB1c2UgdGhlCiAgLy8gdHlwZSBwcm9wZXJ0eSB0byBhbHNvIHRlc3QgZm9yIGEgcGFydGljdWxhciB0eXBlCgoKICBpZiAoIWtleSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgaWYgKGFycikgewogICAgdmFsID0gdmFsdWUubGVuZ3RoOwogIH0KCiAgaWYgKHN0cikgewogICAgLy8g5aSE55CG56CB54K55aSn5LqOVSswMTAwMDDnmoTmloflrZdsZW5ndGjlsZ7mgKfkuI3lh4bnoa7nmoRidWfvvIzlpoIi8KCut/CgrrfwoK63Ii5sZW5naHQgIT09IDMKICAgIHZhbCA9IHZhbHVlLnJlcGxhY2Uoc3BSZWdleHAsICdfJykubGVuZ3RoOwogIH0KCiAgaWYgKGxlbikgewogICAgaWYgKHZhbCAhPT0gcnVsZS5sZW4pIHsKICAgICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlc1trZXldLmxlbiwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubGVuKSk7CiAgICB9CiAgfSBlbHNlIGlmIChtaW4gJiYgIW1heCAmJiB2YWwgPCBydWxlLm1pbikgewogICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlc1trZXldLm1pbiwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubWluKSk7CiAgfSBlbHNlIGlmIChtYXggJiYgIW1pbiAmJiB2YWwgPiBydWxlLm1heCkgewogICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlc1trZXldLm1heCwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubWF4KSk7CiAgfSBlbHNlIGlmIChtaW4gJiYgbWF4ICYmICh2YWwgPCBydWxlLm1pbiB8fCB2YWwgPiBydWxlLm1heCkpIHsKICAgIGVycm9ycy5wdXNoKHV0aWwuZm9ybWF0KG9wdGlvbnMubWVzc2FnZXNba2V5XS5yYW5nZSwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubWluLCBydWxlLm1heCkpOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgcmFuZ2U7"},{"version":3,"sources":["C:\\mine\\搭webpack环境\\so\\node_modules\\async-validator\\es\\rule\\range.js"],"names":["len","rule","min","max","spRegexp","val","key","num","str","arr","Array","value","errors","util","options"],"mappings":"AAAA,OAAO,KAAP,IAAA,MAAA,SAAA;AAEA;;;;;;;;;;;;AAWA,SAAA,KAAA,CAAA,IAAA,EAAA,KAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAqD;AACnD,MAAIA,GAAG,GAAG,OAAOC,IAAI,CAAX,GAAA,KAAV,QAAA;AACA,MAAIC,GAAG,GAAG,OAAOD,IAAI,CAAX,GAAA,KAAV,QAAA;AACA,MAAIE,GAAG,GAAG,OAAOF,IAAI,CAAX,GAAA,KAHyC,QAGnD,CAHmD,CAInD;;AACA,MAAIG,QAAQ,GAAZ,iCAAA;AACA,MAAIC,GAAG,GAAP,KAAA;AACA,MAAIC,GAAG,GAAP,IAAA;AACA,MAAIC,GAAG,GAAG,OAAA,KAAA,KAAV,QAAA;AACA,MAAIC,GAAG,GAAG,OAAA,KAAA,KAAV,QAAA;AACA,MAAIC,GAAG,GAAGC,KAAK,CAALA,OAAAA,CAAV,KAAUA,CAAV;;AACA,MAAA,GAAA,EAAS;AACPJ,IAAAA,GAAG,GAAHA,QAAAA;AADF,GAAA,MAEO,IAAA,GAAA,EAAS;AACdA,IAAAA,GAAG,GAAHA,QAAAA;AADK,GAAA,MAEA,IAAA,GAAA,EAAS;AACdA,IAAAA,GAAG,GAAHA,OAAAA;AAhBiD,GAAA,CAkBnD;AACA;AACA;;;AACA,MAAI,CAAJ,GAAA,EAAU;AACR,WAAA,KAAA;AACD;;AACD,MAAA,GAAA,EAAS;AACPD,IAAAA,GAAG,GAAGM,KAAK,CAAXN,MAAAA;AACD;;AACD,MAAA,GAAA,EAAS;AACP;AACAA,IAAAA,GAAG,GAAGM,KAAK,CAALA,OAAAA,CAAAA,QAAAA,EAAAA,GAAAA,EAANN,MAAAA;AACD;;AACD,MAAA,GAAA,EAAS;AACP,QAAIA,GAAG,KAAKJ,IAAI,CAAhB,GAAA,EAAsB;AACpBW,MAAAA,MAAM,CAANA,IAAAA,CAAYC,IAAI,CAAJA,MAAAA,CAAYC,OAAO,CAAPA,QAAAA,CAAAA,GAAAA,EAAZD,GAAAA,EAAuCZ,IAAI,CAA3CY,SAAAA,EAAuDZ,IAAI,CAAvEW,GAAYC,CAAZD;AACD;AAHH,GAAA,MAIO,IAAIV,GAAG,IAAI,CAAPA,GAAAA,IAAeG,GAAG,GAAGJ,IAAI,CAA7B,GAAA,EAAmC;AACxCW,IAAAA,MAAM,CAANA,IAAAA,CAAYC,IAAI,CAAJA,MAAAA,CAAYC,OAAO,CAAPA,QAAAA,CAAAA,GAAAA,EAAZD,GAAAA,EAAuCZ,IAAI,CAA3CY,SAAAA,EAAuDZ,IAAI,CAAvEW,GAAYC,CAAZD;AADK,GAAA,MAEA,IAAIT,GAAG,IAAI,CAAPA,GAAAA,IAAeE,GAAG,GAAGJ,IAAI,CAA7B,GAAA,EAAmC;AACxCW,IAAAA,MAAM,CAANA,IAAAA,CAAYC,IAAI,CAAJA,MAAAA,CAAYC,OAAO,CAAPA,QAAAA,CAAAA,GAAAA,EAAZD,GAAAA,EAAuCZ,IAAI,CAA3CY,SAAAA,EAAuDZ,IAAI,CAAvEW,GAAYC,CAAZD;AADK,GAAA,MAEA,IAAIV,GAAG,IAAHA,GAAAA,KAAeG,GAAG,GAAGJ,IAAI,CAAVI,GAAAA,IAAkBA,GAAG,GAAGJ,IAAI,CAA/C,GAAIC,CAAJ,EAAsD;AAC3DU,IAAAA,MAAM,CAANA,IAAAA,CAAYC,IAAI,CAAJA,MAAAA,CAAYC,OAAO,CAAPA,QAAAA,CAAAA,GAAAA,EAAZD,KAAAA,EAAyCZ,IAAI,CAA7CY,SAAAA,EAAyDZ,IAAI,CAA7DY,GAAAA,EAAmEZ,IAAI,CAAnFW,GAAYC,CAAZD;AACD;AACF;;AAED,eAAA,KAAA","sourcesContent":["import * as util from '../util';\n\n/**\n *  Rule for validating minimum and maximum allowed values.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction range(rule, value, source, errors, options) {\n  var len = typeof rule.len === 'number';\n  var min = typeof rule.min === 'number';\n  var max = typeof rule.max === 'number';\n  // 正则匹配码点范围从U+010000一直到U+10FFFF的文字（补充平面Supplementary Plane）\n  var spRegexp = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var val = value;\n  var key = null;\n  var num = typeof value === 'number';\n  var str = typeof value === 'string';\n  var arr = Array.isArray(value);\n  if (num) {\n    key = 'number';\n  } else if (str) {\n    key = 'string';\n  } else if (arr) {\n    key = 'array';\n  }\n  // if the value is not of a supported type for range validation\n  // the validation rule rule should use the\n  // type property to also test for a particular type\n  if (!key) {\n    return false;\n  }\n  if (arr) {\n    val = value.length;\n  }\n  if (str) {\n    // 处理码点大于U+010000的文字length属性不准确的bug，如\"𠮷𠮷𠮷\".lenght !== 3\n    val = value.replace(spRegexp, '_').length;\n  }\n  if (len) {\n    if (val !== rule.len) {\n      errors.push(util.format(options.messages[key].len, rule.fullField, rule.len));\n    }\n  } else if (min && !max && val < rule.min) {\n    errors.push(util.format(options.messages[key].min, rule.fullField, rule.min));\n  } else if (max && !min && val > rule.max) {\n    errors.push(util.format(options.messages[key].max, rule.fullField, rule.max));\n  } else if (min && max && (val < rule.min || val > rule.max)) {\n    errors.push(util.format(options.messages[key].range, rule.fullField, rule.min, rule.max));\n  }\n}\n\nexport default range;"]}]}