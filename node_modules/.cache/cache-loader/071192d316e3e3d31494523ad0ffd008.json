{"remainingRequest":"C:\\mine\\搭webpack环境\\so\\node_modules\\thread-loader\\dist\\cjs.js!C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js!C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js!C:\\mine\\搭webpack环境\\so\\node_modules\\webpack-dev-server\\client\\socket.js","dependencies":[{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\webpack-dev-server\\client\\socket.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\mine\\搭webpack环境\\so\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKdmFyIFNvY2tKUyA9IHJlcXVpcmUoJ3NvY2tqcy1jbGllbnQvZGlzdC9zb2NranMnKTsKCnZhciByZXRyaWVzID0gMDsKdmFyIHNvY2sgPSBudWxsOwoKdmFyIHNvY2tldCA9IGZ1bmN0aW9uIGluaXRTb2NrZXQodXJsLCBoYW5kbGVycykgewogIHNvY2sgPSBuZXcgU29ja0pTKHVybCk7CgogIHNvY2sub25vcGVuID0gZnVuY3Rpb24gb25vcGVuKCkgewogICAgcmV0cmllcyA9IDA7CiAgfTsKCiAgc29jay5vbmNsb3NlID0gZnVuY3Rpb24gb25jbG9zZSgpIHsKICAgIGlmIChyZXRyaWVzID09PSAwKSB7CiAgICAgIGhhbmRsZXJzLmNsb3NlKCk7CiAgICB9IC8vIFRyeSB0byByZWNvbm5lY3QuCgoKICAgIHNvY2sgPSBudWxsOyAvLyBBZnRlciAxMCByZXRyaWVzIHN0b3AgdHJ5aW5nLCB0byBwcmV2ZW50IGxvZ3NwYW0uCgogICAgaWYgKHJldHJpZXMgPD0gMTApIHsKICAgICAgLy8gRXhwb25lbnRpYWxseSBpbmNyZWFzZSB0aW1lb3V0IHRvIHJlY29ubmVjdC4KICAgICAgLy8gUmVzcGVjdGZ1bGx5IGNvcGllZCBmcm9tIHRoZSBwYWNrYWdlIGBnb3RgLgogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWl4ZWQtb3BlcmF0b3JzLCBuby1yZXN0cmljdGVkLXByb3BlcnRpZXMKICAgICAgdmFyIHJldHJ5SW5NcyA9IDEwMDAgKiBNYXRoLnBvdygyLCByZXRyaWVzKSArIE1hdGgucmFuZG9tKCkgKiAxMDA7CiAgICAgIHJldHJpZXMgKz0gMTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc29ja2V0KHVybCwgaGFuZGxlcnMpOwogICAgICB9LCByZXRyeUluTXMpOwogICAgfQogIH07CgogIHNvY2sub25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGUpIHsKICAgIC8vIFRoaXMgYXNzdW1lcyB0aGF0IGFsbCBkYXRhIHNlbnQgdmlhIHRoZSB3ZWJzb2NrZXQgaXMgSlNPTi4KICAgIHZhciBtc2cgPSBKU09OLnBhcnNlKGUuZGF0YSk7CgogICAgaWYgKGhhbmRsZXJzW21zZy50eXBlXSkgewogICAgICBoYW5kbGVyc1ttc2cudHlwZV0obXNnLmRhdGEpOwogICAgfQogIH07Cn07Cgptb2R1bGUuZXhwb3J0cyA9IHNvY2tldDs="},{"version":3,"sources":["C:\\mine\\搭webpack环境\\so\\node_modules\\webpack-dev-server\\client\\socket.js"],"names":["SockJS","require","retries","sock","socket","handlers","retryInMs","Math","setTimeout","msg","JSON","e","module"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAApB,2BAAoB,CAApB;;AAEA,IAAIC,OAAO,GAAX,CAAA;AACA,IAAIC,IAAI,GAAR,IAAA;;AAEA,IAAIC,MAAM,GAAG,SAAA,UAAA,CAAA,GAAA,EAAA,QAAA,EAAmC;AAC9CD,EAAAA,IAAI,GAAG,IAAA,MAAA,CAAPA,GAAO,CAAPA;;AAEAA,EAAAA,IAAI,CAAJA,MAAAA,GAAc,SAAA,MAAA,GAAkB;AAC9BD,IAAAA,OAAO,GAAPA,CAAAA;AADFC,GAAAA;;AAIAA,EAAAA,IAAI,CAAJA,OAAAA,GAAe,SAAA,OAAA,GAAmB;AAChC,QAAID,OAAO,KAAX,CAAA,EAAmB;AACjBG,MAAAA,QAAQ,CAARA,KAAAA;AAF8B,KAAA,CAG9B;;;AAGFF,IAAAA,IAAI,GAN4B,IAMhCA,CANgC,CAMnB;;AAEb,QAAID,OAAO,IAAX,EAAA,EAAmB;AACjB;AACA;AACA;AACA,UAAII,SAAS,GAAG,OAAOC,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAP,OAAOA,CAAP,GAA8BA,IAAI,CAAJA,MAAAA,KAA9C,GAAA;AACAL,MAAAA,OAAO,IAAPA,CAAAA;AACAM,MAAAA,UAAU,CAAC,YAAY;AACrBJ,QAAAA,MAAM,CAAA,GAAA,EAANA,QAAM,CAANA;AADQ,OAAA,EAAVI,SAAU,CAAVA;AAGD;AAjBHL,GAAAA;;AAoBAA,EAAAA,IAAI,CAAJA,SAAAA,GAAiB,SAAA,SAAA,CAAA,CAAA,EAAsB;AACrC;AACA,QAAIM,GAAG,GAAGC,IAAI,CAAJA,KAAAA,CAAWC,CAAC,CAAtB,IAAUD,CAAV;;AAEA,QAAIL,QAAQ,CAACI,GAAG,CAAhB,IAAY,CAAZ,EAAwB;AACtBJ,MAAAA,QAAQ,CAACI,GAAG,CAAZJ,IAAQ,CAARA,CAAmBI,GAAG,CAAtBJ,IAAAA;AACD;AANHF,GAAAA;AA3BF,CAAA;;AAqCAS,MAAM,CAANA,OAAAA,GAAAA,MAAAA","sourcesContent":["'use strict';\n\nvar SockJS = require('sockjs-client/dist/sockjs');\n\nvar retries = 0;\nvar sock = null;\n\nvar socket = function initSocket(url, handlers) {\n  sock = new SockJS(url);\n\n  sock.onopen = function onopen() {\n    retries = 0;\n  };\n\n  sock.onclose = function onclose() {\n    if (retries === 0) {\n      handlers.close();\n    } // Try to reconnect.\n\n\n    sock = null; // After 10 retries stop trying, to prevent logspam.\n\n    if (retries <= 10) {\n      // Exponentially increase timeout to reconnect.\n      // Respectfully copied from the package `got`.\n      // eslint-disable-next-line no-mixed-operators, no-restricted-properties\n      var retryInMs = 1000 * Math.pow(2, retries) + Math.random() * 100;\n      retries += 1;\n      setTimeout(function () {\n        socket(url, handlers);\n      }, retryInMs);\n    }\n  };\n\n  sock.onmessage = function onmessage(e) {\n    // This assumes that all data sent via the websocket is JSON.\n    var msg = JSON.parse(e.data);\n\n    if (handlers[msg.type]) {\n      handlers[msg.type](msg.data);\n    }\n  };\n};\n\nmodule.exports = socket;"]}]}